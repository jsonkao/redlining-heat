---
title: "Analysis"
output: html_document
---

```{r setup, include=FALSE}
library(foreign)
library(jsonlite)
library(dplyr)
library(ggplot2)
library(cowplot)
```

## Read in data

```{r}
data <- inner_join(
  read.dbf('../data/holc-shapefile/holc_ad_data.dbf'),
  rbind(fromJSON('../data/task-exports/temperatures-2020.json'), fromJSON('../data/task-exports/temperatures-2000.json')),
  by = c('neighborho' = 'id')
) %>% 
  rename(holc_grade = holc_grade.x) %>% 
  filter(holc_grade != 'E') %>% 
  select(state, city, holc_grade, temperature, year)
data
```

## Visualize data

```{r}
data %>% ggplot(aes(temperature)) +
  geom_density() +
  facet_wrap(~ holc_grade)
```

## Tukey-Kramer test

```{r}
TukeyHSD(aov(temperature ~ holc_grade, data = data %>% filter(year == 2020)))
```




